# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ —Å–±–æ—Ä–∫–∏ MySQL

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏, —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å –∏–º–ø–æ—Ä—Ç–æ–º `mysql2/promise` –≤ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π —Å—Ä–µ–¥–µ.

## ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞:**
```
[vite]: Rollup failed to resolve import "mysql2/promise" from "/app/webapp/src/services/DatabaseService.ts".
This is most likely unintended because it can break your application at runtime.
```

## ‚úÖ **–†–µ—à–µ–Ω–∏–µ:**

### **1. –£—Å–ª–æ–≤–Ω—ã–π –∏–º–ø–æ—Ä—Ç MySQL**
–ó–∞–º–µ–Ω–∏–ª —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å—Ä–µ–¥—ã:

```typescript
// ‚ùå –°—Ç–∞—Ä—ã–π –∫–æ–¥:
import mysql from 'mysql2/promise'

// ‚úÖ –ù–æ–≤—ã–π –∫–æ–¥:
const isBrowser = typeof window !== 'undefined'
let mysql: any = null

if (!isBrowser) {
  try {
    mysql = require('mysql2/promise')
  } catch (error) {
    console.warn('mysql2 –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —ç—Ç–æ–π —Å—Ä–µ–¥–µ:', error)
  }
}
```

### **2. –ü—Ä–æ–≤–µ—Ä–∫–∏ –≤–æ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–∞—Ö**
–î–æ–±–∞–≤–∏–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π —Å—Ä–µ–¥—ã –≤–æ –≤—Å–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –ë–î:

```typescript
// ‚úÖ –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–≤–µ—Ä–∫–∏:
async connect(): Promise<boolean> {
  if (isBrowser || !mysql) {
    console.warn('MySQL –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π —Å—Ä–µ–¥–µ')
    return false
  }
  // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
}
```

### **3. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:**

#### **DatabaseService.ts:**
- ‚úÖ –£—Å–ª–æ–≤–Ω—ã–π –∏–º–ø–æ—Ä—Ç `mysql2/promise`
- ‚úÖ –£—Å–ª–æ–≤–Ω—ã–π –∏–º–ø–æ—Ä—Ç `SchemaLoader`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –≤–æ –≤—Å–µ—Ö MySQL –º–µ—Ç–æ–¥–∞—Ö
- ‚úÖ Graceful fallback –Ω–∞ mock-–¥–∞–Ω–Ω—ã–µ

#### **SchemaService.ts:**
- ‚úÖ –£—Å–ª–æ–≤–Ω—ã–π –∏–º–ø–æ—Ä—Ç `mysql2/promise`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –≤ SQL –º–µ—Ç–æ–¥–∞—Ö
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–∞–≥–ª—É—à–∫–∏ –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞

### **4. –ü–æ–≤–µ–¥–µ–Ω–∏–µ –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ä–µ–¥–∞—Ö:**

#### **üåê –í –±—Ä–∞—É–∑–µ—Ä–µ:**
- MySQL –∫–æ–¥ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- –í—Å–µ DB –º–µ—Ç–æ–¥—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç mock-–¥–∞–Ω–Ω—ã–µ
- –õ–æ–≥–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π —Ä–µ–∂–∏–º
- –°–±–æ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫

#### **üñ•Ô∏è –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (Node.js):**
- MySQL –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –∑–∞–¥—É–º–∞–Ω–æ
- –ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

### **‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚ùå –û—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏ Vite/Rollup
- ‚ùå –ü—Ä–æ–±–ª–µ–º—ã —Å –∏–º–ø–æ—Ä—Ç–æ–º mysql2 –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- ‚ùå –ü–∞–¥–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

### **‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ:**
- ‚úÖ –ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å MySQL –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ Mock-–¥–∞–Ω–Ω—ã–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ API –º–µ—Ç–æ–¥—ã
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### **‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```
üîÑ –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–π —Ä–µ–∂–∏–º: –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è mock-–¥–∞–Ω–Ω—ã–µ
üîÑ MySQL –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π —Å—Ä–µ–¥–µ
üîÑ SchemaLoader –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π —Å—Ä–µ–¥–µ
```

## üöÄ **–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ:**

1. **–°–æ–±–∏—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç** –±–µ–∑ –æ—à–∏–±–æ–∫ Rollup
2. **–†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ** —Å mock-–¥–∞–Ω–Ω—ã–º–∏
3. **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ** —Å –ø–æ–ª–Ω–æ–π MySQL —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é
4. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏** (–æ–Ω–∏ –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∂—É—Ç mock-—Ä–µ–∂–∏–º –≤ –±—Ä–∞—É–∑–µ—Ä–µ)

**üéâ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Å–±–æ—Ä–∫–µ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é!**